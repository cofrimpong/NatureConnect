{% comment %}
NatureConnect â€“ Featured Collection Section (Compact Version)
{% endcomment %}

<section class="nc-featured" style="padding: 60px 0; background-color: #fafafa;">
  <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    {% if section.settings.heading != blank %}
      <h2 style="text-align:center; margin-bottom: 40px; font-size: 2rem;">{{ section.settings.heading }}</h2>
    {% endif %}

    {% assign coll = collections[section.settings.collection] %}
    {% if coll and coll.products_count > 0 %}
      <div style="
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 30px;
        justify-items: center;
      ">
        {% for product in coll.products limit: section.settings.product_count %}
          <article style="
            background: white;
            border: 1px solid #eaeaea;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            padding: 15px;
            width: 100%;
            max-width: 260px;
            text-align: center;
            transition: transform 0.2s ease;
          " onmouseover="this.style.transform='scale(1.03)'" onmouseout="this.style.transform='scale(1)'">
            <a href="{{ product.url }}" style="text-decoration:none; color:inherit;">
              {% if product.featured_image %}
                <img
                  src="{{ product.featured_image | img_url: '400x400' }}"
                  alt="{{ product.title }}"
                  style="width:100%; border-radius:10px;">
              {% endif %}
              <h3 style="margin:12px 0 6px; font-size:1rem;">{{ product.title }}</h3>
              <p style="color:#333; font-weight:600;">{{ product.price | money }}</p>
            </a>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p style="text-align:center;">No products found. Please select a collection.</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Featured Collection",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Products" },
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "range", "id": "product_count", "label": "Number of products", "min": 1, "max": 20, "step": 1, "default": 6 }
  ],
  "presets": [{ "name": "Featured Collection" }]
}
{% endschema %}
