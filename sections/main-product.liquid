{% render 'breadcrumbs' %}
<section class="product container" style="padding:50px 20px;max-width:1200px;margin:auto;">
  <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:40px;align-items:start;">
    <div>
      <img src="{{ product.featured_image | img_url: '800x' }}" alt="{{ product.title }}" style="width:100%;border-radius:12px;">
      {% if product.images.size > 1 %}
        <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;">
          {% for image in product.images %}
            <img src="{{ image | img_url: '150x' }}" alt="{{ product.title }} image" style="width:80px;height:80px;object-fit:cover;border-radius:8px;">
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div>
      <h1>{{ product.title }}</h1>
      <p style="font-size:20px;font-weight:bold;">{{ product.price | money }}</p>
      <form action="/cart/add" method="post" novalidate style="margin-top:20px;">

  {% if product.has_only_default_variant %}
    <!-- Simple product (no options) -->
    <input type="hidden" name="id" value="{{ product.variants.first.id }}">
  {% else %}
    <!-- Multi-variant product -->
    <label for="VariantId" style="display:block;margin-bottom:8px;font-weight:600;">Choose an option</label>
    <select id="VariantId" name="id" style="padding:8px;border:1px solid #ccc;border-radius:6px;">
      {% for v in product.variants %}
        {% if v.available %}
          <option value="{{ v.id }}">{{ v.title }} — {{ v.price | money }}</option>
        {% else %}
          <option value="{{ v.id }}" disabled>{{ v.title }} — Sold Out</option>
        {% endif %}
      {% endfor %}
    </select>
  {% endif %}

  <div style="margin-top:10px;">
    <label for="Qty" style="margin-right:8px;">Qty</label>
    <input id="Qty" type="number" name="quantity" value="1" min="1" style="width:60px;padding:6px;border:1px solid #ccc;border-radius:6px;">
  </div>

  <!-- Redirect to /cart after adding -->
  <input type="hidden" name="return_to" value="/cart">

  <button type="submit" style="margin-top:15px;padding:10px 16px;border:none;border-radius:8px;background:#2e7d32;color:#fff;cursor:pointer;">
    Add to Cart
  </button>
</form>
      <div style="margin-top:20px;">{{ product.description }}</div>
    </div>
  </div>
</section>

{% schema %}
{ "name": "Main product" }
{% endschema %}
