{% comment %} NatureConnect – Simple product page {% endcomment %}
<section style="padding:48px 0;">
  <div style="max-width:1100px;margin:0 auto;padding:0 20px;display:grid;gap:32px;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));align-items:start;">
    <div>
      {% if product.images.size > 0 %}
        <img src="{{ product.featured_image | img_url: '800x' }}" alt="{{ product.title }}" style="width:100%;border-radius:12px;">
        <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap;">
          {% for image in product.images %}
            <img src="{{ image | img_url: '200x' }}" alt="{{ product.title }} thumbnail" style="width:80px;height:80px;object-fit:cover;border:1px solid #eee;border-radius:8px;">
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div>
      <h1 style="margin:0 0 10px;font-size:32px;">{{ product.title }}</h1>
      <div style="font-size:20px;font-weight:700;margin-bottom:12px;">
        {{ product.price | money }}
      </div>

      {% if product.description != blank %}
        <div style="color:#444;margin-bottom:16px;">{{ product.description }}</div>
      {% endif %}

      <form method="post" action="/cart/add" id="product-form-{{ section.id }}">
        {% if product.has_only_default_variant %}
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        {% else %}
          <label for="variant-select" style="display:block;margin-bottom:6px;">Choose an option</label>
          <select id="variant-select" name="id" style="padding:8px 10px;width:100%;max-width:320px;margin-bottom:12px;">
            {% for v in product.variants %}
              {% if v.available %}
                <option value="{{ v.id }}">
                  {{ v.title }} — {{ v.price | money }}
                </option>
              {% else %}
                <option value="{{ v.id }}" disabled>
                  {{ v.title }} — Sold out
                </option>
              {% endif %}
            {% endfor %}
          </select>
        {% endif %}

        <label for="qty-{{ section.id }}" style="display:block;margin-bottom:6px;">Quantity</label>
        <input id="qty-{{ section.id }}" type="number" name="quantity" value="1" min="1" style="padding:8px 10px;width:100px;margin-bottom:16px;">

        <button type="submit" style="display:inline-block;background:#2e7d32;color:#fff;border:none;border-radius:10px;padding:12px 18px;font-weight:700;cursor:pointer;">
          Add to cart
        </button>
      </form>

      {% if product.tags.size > 0 %}
        <div style="margin-top:16px;color:#666;font-size:14px;">
          Tags:
          {% for t in product.tags %}
            <span style="background:#f3f3f3;border-radius:999px;padding:4px 10px;margin-right:6px;display:inline-block;">{{ t }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Main product",
  "settings": []
}
{% endschema %}
